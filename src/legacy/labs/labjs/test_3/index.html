<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en" id="monospaced-co-uk">
  <head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8"/>
    <title>All must have prizes</title>
    
    <link rel="stylesheet" type="text/css" media="screen, projection" href="/_format/styles/labs.css" />
    
    <script type="text/javascript" src="LAB.js"></script>
		<script type="text/javascript" src="manager.js"></script>
		
  </head>
  <body class="testCase">
  	<div id="container">
			
			<h1>Asynchronous JavaScript loading + $(document).ready</h1>
  		
  		<h2>“Back stop” fix</h2>
  		
  		<p><a id="widget" class="red" href="#">Javascript execution will probably be delayed, but will always run</a></p>
  		
  		<div class="lineLength">
  			<p>Still a race condtion, but we try to ensure that JavaScript executes even if it loses the race:</p>
  			<p>Before attaching behaviour to <code>$(document).ready</code>, <code>document.readyState</code> is checked, and if this is "complete" JavaScript executes immediately.</p>
  			<p>An additonal check has been used for FireFox, as this does not support <code>document.readyState</code>.</p>
  			<p>This type of approach may be able to solve the problem of JavaScript losing the race and not executing at all.</p>
  			<p>However, by implmenting asynchronous JavaScript loading, we have lost the unobtrusive benifits of <code>$(document).ready</code>.</p>
  		</div>
	  
  	</div> <!-- end container -->

  </body>
</html>